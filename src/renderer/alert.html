<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>VerseCon Alert</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: transparent;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Rajdhani', sans-serif;
        }

        /* ‚ïê‚ïê‚ïê ALERT CONTAINER ‚ïê‚ïê‚ïê */
        .alert-container {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }

        .alert-container.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ‚ïê‚ïê‚ïê CENTER TEXT ‚ïê‚ïê‚ïê */
        .alert-text {
            font-size: 4rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 8px;
            text-align: center;
            animation: alertPulse 0.5s ease-in-out 3;
            text-shadow:
                0 0 20px currentColor,
                0 0 40px currentColor,
                0 0 80px currentColor;
            opacity: 0;
            animation: alertAppear 3s ease forwards;
        }

        .alert-subtitle {
            font-size: 1.5rem;
            letter-spacing: 4px;
            margin-top: 10px;
            opacity: 0.8;
        }

        /* ‚ïê‚ïê‚ïê VIGNETTE EFFECTS ‚ïê‚ïê‚ïê */
        .vignette {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .vignette-red {
            box-shadow: inset 0 0 200px 60px rgba(255, 0, 0, 0.6);
            animation: vignetteFlash 0.3s ease-in-out 5;
        }

        .vignette-yellow {
            box-shadow: inset 0 0 150px 40px rgba(255, 170, 0, 0.4);
            animation: vignetteFlash 0.5s ease-in-out 3;
        }

        .vignette-green {
            box-shadow: inset 0 0 120px 30px rgba(0, 255, 136, 0.3);
            animation: vignetteFlash 0.8s ease-in-out 2;
        }

        .vignette-blue {
            box-shadow: inset 0 0 180px 50px rgba(0, 100, 255, 0.4);
            animation: vignetteFlash 0.6s ease-in-out 4;
        }

        .vignette-cyan {
            box-shadow: inset 0 0 120px 30px rgba(0, 200, 255, 0.3);
            animation: vignetteFlash 0.5s ease-in-out 3;
        }

        /* ‚ïê‚ïê‚ïê BORDER FLASH ‚ïê‚ïê‚ïê */
        .border-flash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .border-flash-red {
            border: 4px solid rgba(255, 0, 0, 0.8);
            animation: borderPulse 0.3s ease-in-out 5;
        }

        .border-flash-orange {
            border: 3px solid rgba(255, 165, 0, 0.8);
            animation: borderPulse 0.5s ease-in-out 3;
        }

        /* ‚ïê‚ïê‚ïê COMMAND OVERLAY ‚ïê‚ïê‚ïê */
        .command-alert {
            background: rgba(0, 0, 0, 0.85);
            border: 2px solid #ffa500;
            border-radius: 12px;
            padding: 30px 50px;
            text-align: center;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 40px rgba(255, 165, 0, 0.3);
        }

        .command-from {
            font-size: 0.9rem;
            color: #888;
            letter-spacing: 3px;
            margin-bottom: 5px;
        }

        .command-text {
            font-size: 2.5rem;
            color: #ffa500;
            text-shadow: 0 0 20px rgba(255, 165, 0, 0.5);
        }

        .command-team {
            font-size: 1rem;
            color: #00c8ff;
            margin-top: 10px;
            letter-spacing: 2px;
        }

        /* ‚ïê‚ïê‚ïê ANIMATIONS ‚ïê‚ïê‚ïê */
        @keyframes alertAppear {
            0% {
                opacity: 0;
                transform: scale(1.5);
            }

            15% {
                opacity: 1;
                transform: scale(1);
            }

            85% {
                opacity: 1;
                transform: scale(1);
            }

            100% {
                opacity: 0;
                transform: scale(0.95);
            }
        }

        @keyframes vignetteFlash {

            0%,
            100% {
                opacity: 0.3;
            }

            50% {
                opacity: 1;
            }
        }

        @keyframes borderPulse {

            0%,
            100% {
                opacity: 0.3;
            }

            50% {
                opacity: 1;
            }
        }

        @keyframes commandSlideIn {
            0% {
                opacity: 0;
                transform: translateY(-30px) scale(0.9);
            }

            20% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }

            85% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }

            100% {
                opacity: 0;
                transform: translateY(10px) scale(0.95);
            }
        }
    </style>
</head>

<body>
    <div class="alert-container" id="alert-container">
        <div class="vignette" id="alert-vignette"></div>
        <div class="border-flash" id="alert-border"></div>
        <div id="alert-content">
            <div class="alert-text" id="alert-text"></div>
            <div class="alert-subtitle" id="alert-subtitle"></div>
        </div>
    </div>

    <script>
        const { ipcRenderer } = require('electron');

        const container = document.getElementById('alert-container');
        const vignette = document.getElementById('alert-vignette');
        const border = document.getElementById('alert-border');
        const alertContent = document.getElementById('alert-content');
        const alertText = document.getElementById('alert-text');
        const alertSub = document.getElementById('alert-subtitle');

        let hideTimeout = null;

        // Alert configurations
        const ALERTS = {
            // Status alerts
            death: {
                text: 'üíÄ KILLED IN ACTION',
                subtitle: 'SIGNAL LOST',
                vignette: 'vignette-red',
                border: 'border-flash-red',
                color: '#ff4444',
                duration: 4000,
                sound: 'alert_death'
            },
            suffocating: {
                text: 'üå°Ô∏è SUFFOCATING',
                subtitle: 'CHECK HELMET SEAL',
                vignette: 'vignette-blue',
                border: 'border-flash-red',
                color: '#4488ff',
                duration: 3000,
                sound: 'alert_status'
            },
            depressurizing: {
                text: 'üí® DEPRESSURIZATION',
                subtitle: 'HULL BREACH DETECTED',
                vignette: 'vignette-blue',
                border: 'border-flash-red',
                color: '#6688ff',
                duration: 3000,
                sound: 'alert_status'
            },

            // Zone alerts
            armistice_leave: {
                text: '‚ö†Ô∏è CAUTION',
                subtitle: 'LEAVING ARMISTICE ZONE ‚Äî WEAPONS HOT',
                vignette: 'vignette-yellow',
                border: 'border-flash-orange',
                color: '#ffaa00',
                duration: 2500,
                sound: 'alert_zone'
            },
            armistice_enter: {
                text: 'üõ°Ô∏è SAFE ZONE',
                subtitle: 'ARMISTICE ZONE ‚Äî COMBAT PROHIBITED',
                vignette: 'vignette-green',
                border: '',
                color: '#00ff88',
                duration: 2000,
                sound: null
            },
            monitored_enter: {
                text: 'üì° MONITORED',
                subtitle: 'ENTERING MONITORED SPACE',
                vignette: 'vignette-cyan',
                border: '',
                color: '#00c8ff',
                duration: 2000,
                sound: null
            }
        };

        function showAlert(config) {
            if (hideTimeout) clearTimeout(hideTimeout);

            // Reset classes
            vignette.className = 'vignette';
            border.className = 'border-flash';

            // Apply styling
            if (config.vignette) vignette.classList.add(config.vignette);
            if (config.border) border.classList.add(config.border);

            alertText.textContent = config.text;
            alertText.style.color = config.color;
            alertSub.textContent = config.subtitle || '';
            alertSub.style.color = config.color;

            // Reset animation
            alertContent.style.animation = 'none';
            alertContent.offsetHeight; // Trigger reflow
            alertContent.style.animation = `alertAppear ${config.duration}ms ease forwards`;

            container.classList.add('active');

            hideTimeout = setTimeout(() => {
                container.classList.remove('active');
                ipcRenderer.send('alert:hide');
            }, config.duration);
        }

        function showCommandAlert(data) {
            if (hideTimeout) clearTimeout(hideTimeout);

            vignette.className = 'vignette';
            border.className = 'border-flash border-flash-orange';

            const cmdHtml = `
                <div class="command-alert" style="animation: commandSlideIn 5s ease forwards;">
                    <div class="command-from">ORDER FROM ${(data.value.from || 'COMMAND').toUpperCase()}</div>
                    <div class="command-text">${data.value.preset || data.value.text || 'ATTENTION'}</div>
                    <div class="command-team">‚Üí ${(data.value.target || 'ALL TEAMS').toUpperCase()}</div>
                </div>
            `;
            alertContent.innerHTML = cmdHtml;
            container.classList.add('active');

            hideTimeout = setTimeout(() => {
                container.classList.remove('active');
                ipcRenderer.send('alert:hide');
                // Restore original content
                alertContent.innerHTML = `
                    <div class="alert-text" id="alert-text"></div>
                    <div class="alert-subtitle" id="alert-subtitle"></div>
                `;
            }, 5000);
        }

        ipcRenderer.on('alert:trigger', (event, data) => {
            if (data.type === 'STATUS') {
                const config = ALERTS[data.value];
                if (config) showAlert(config);
            } else if (data.type === 'ZONE') {
                const config = ALERTS[data.value];
                if (config) showAlert(config);
            } else if (data.type === 'COMMAND') {
                showCommandAlert(data);
            }
        });
    </script>
</body>

</html>